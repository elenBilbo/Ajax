<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo Fetch</title>
</head>
<body>
    <input type="button" value="cargar información"/>
    <textarea id="resultado" cols="35" rows="10"></textarea> 
</body>
</html>
<script>
    //cargamos la info cuando pulsamos el botón
    document.getElementsByTagName("input")[0].onclick = ()=>{
        //hacemos la petición asíncrona con fetch
        //.then : recogemos la información
        //      .then : tratamos la información 
        //catch : gestionamos posibles errores 
        fetch("https://randomuser.me/api/?results=5")
        .then((response)=>{
            return response.json(); //recogemos la info
        })
        .then((usuarios)=>{
            //qué hago con la información recibida
            console.log(usuarios.results);
            for (usuario of usuarios.results){
                document.getElementById("resultado").innerHTML +=usuario.email +"\n";
            }
        })
        .catch((err) =>{
            console.log(err);
        });

    }
</script>